# AirAstanaTestSolution

## Запуск инфраструктуры с проектом<br>
docker-compose up -d<br>

## Запуск сайта с документацией:<br>
установка инструмента (глобально):<br>
dotnet tool update -g docfx<br>
<br>
запуск:<br>
docfx docfx_project/docfx.json --serve<br>
<br>
Xml доки внутри проекта мало, т.к. ограничен временными рамками.<br>

## Расположение исходных файлов:<br>
docfx_project\src<br>

## Middle часть
**Документацию по приложению необходимо вести в Swagger.** Релизовано<br>
<br>
**Любые изменения в БД и исключения логируются в файл лога с указанием пользователя и времени изменения.** Исключения логируются через mediator IPipelineBehavior. Изменение данных логируется через переопределение SaveChanges DbContext<br>

## Senior часть
Приложение должно считывать данные из кэша (не из БД). Добавление и редактирование – напрямую в БД.
При изменении данных в БД кэш тоже обновляется до актуального состояния.
### Принцип работы кэша:<br>
За основу взят redis и библиотека redis.om. Поля зписи кэша индексированы, можем осуществлять поиск в кэше с помощью linq. Записи кэша актуализируются во время изменения в БД, в т.ч. при миграции осуществляется его перестроение (но на транзакционность не хватило времени). Для простоты, вся таблица flight лежит в кэше, но в продакшене должны быть ограничение такие как общий размер кэша и срез данных за оппределённую дату (если данных действительно много). Кэш тема не тривиальная и его граммотная разработка, с учётом множества нюансов и внештатных ситуаций, выходит за рамки этого задания (в т.ч. временные рамки).<br>
